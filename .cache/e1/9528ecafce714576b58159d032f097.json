{"id":"epB2","dependencies":[{"name":"D:\\med\\.babelrc","includedInParent":true,"mtime":1553726249193},{"name":"D:\\med\\package.json","includedInParent":true,"mtime":1553819528004},{"name":"brain.js","loc":{"line":1,"column":22},"parent":"D:\\med\\main.js","resolved":"D:\\med\\node_modules\\brain.js\\index.js"},{"name":"lodash","loc":{"line":2,"column":18},"parent":"D:\\med\\main.js","resolved":"D:\\med\\node_modules\\lodash\\lodash.js"},{"name":"./analysis","loc":{"line":5,"column":19},"parent":"D:\\med\\main.js","resolved":"D:\\med\\analysis.js"}],"generated":{"js":"function e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var r=require(\"brain.js\"),t=require(\"lodash\"),o=require(\"./analysis\"),a=function(e,r){console.log(r);var a={age:(parseInt(e.age)/120).toFixed(2),sex:o.getSex(e.sex),stomach:o.getNormal(e.stomach),s_irritation:o.getNormal(e.s_irritation),nausea:o.getNormal(e.nausea),pain_upper:o.getNormal(e.pain_upper),temperature:o.getTemperature(o.getNormal(e.temperature)),gall_bladder:o.getNormal(e.gall_bladder),alcohol:o.getNormal(e.alcohol),vomitting:o.getNormal(e.vomitting),dry_mouth:o.getNormal(e.dry_mouth),weakness:o.getNormal(e.weakness),hemoglobin:o.getHemoglobin(e.sex,e.age,o.getNormal(e.hemoglobin)),\"erythrocyte:\":o.getErythrocyte(e.age,o.getNormal(e.erythrocyte)),leukocyte:o.getleukocyte(e.age,o.getNormal(e.leukocyte)),biochemistry:o.getBio(r,e.biochemistry_raw)},n=new Array;return Object.keys(a).forEach(function(e){n.push(a[e])}),t.flatten(n)},n=function(r){return e({},r.hid,1)},i=function(e,r){return{input:a(e,r),output:n(e)}},l={errorThresh:.005,iterations:5e4,log:!0,logPeriod:50,learningRate:.2},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,o=e.biochemistry_types,a=e.list.map(function(e){return i(e,o)}),n=new r.NeuralNetwork,u=n.train(a,t);return JSON.stringify(n.toJSON(u))},g=function(e,t,o){var n=new r.NeuralNetwork;return n.fromJSON(JSON.parse(t)),n.run(a(e,o))};","map":{"mappings":[{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":0}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":9}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":11}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":13}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":15}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":18}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":25}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":30}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":32}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":39}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":54}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":56}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":58}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":59}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":65}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":67}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":79}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":81}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":95}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":97}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":107}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":111}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":113}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":116}},{"source":"main.js","original":{"line":87,"column":0},"generated":{"line":1,"column":118}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":120}},{"source":"main.js","name":"brain","original":{"line":1,"column":6},"generated":{"line":1,"column":124}},{"source":"main.js","name":"require","original":{"line":1,"column":14},"generated":{"line":1,"column":126}},{"source":"main.js","original":{"line":1,"column":22},"generated":{"line":1,"column":134}},{"source":"main.js","name":"_","original":{"line":2,"column":6},"generated":{"line":1,"column":146}},{"source":"main.js","name":"require","original":{"line":2,"column":10},"generated":{"line":1,"column":148}},{"source":"main.js","original":{"line":2,"column":18},"generated":{"line":1,"column":156}},{"source":"main.js","name":"fn","original":{"line":5,"column":6},"generated":{"line":1,"column":166}},{"source":"main.js","name":"require","original":{"line":5,"column":11},"generated":{"line":1,"column":168}},{"source":"main.js","original":{"line":5,"column":19},"generated":{"line":1,"column":176}},{"source":"main.js","name":"renderInput","original":{"line":7,"column":6},"generated":{"line":1,"column":190}},{"source":"main.js","original":{"line":7,"column":20},"generated":{"line":1,"column":192}},{"source":"main.js","name":"e","original":{"line":7,"column":21},"generated":{"line":1,"column":201}},{"source":"main.js","name":"biochemistry_types","original":{"line":7,"column":24},"generated":{"line":1,"column":203}},{"source":"main.js","name":"console","original":{"line":8,"column":4},"generated":{"line":1,"column":206}},{"source":"main.js","name":"log","original":{"line":8,"column":12},"generated":{"line":1,"column":214}},{"source":"main.js","name":"biochemistry_types","original":{"line":8,"column":16},"generated":{"line":1,"column":218}},{"source":"main.js","name":"newObj","original":{"line":9,"column":10},"generated":{"line":1,"column":221}},{"source":"main.js","name":"newObj","original":{"line":9,"column":10},"generated":{"line":1,"column":225}},{"source":"main.js","original":{"line":9,"column":19},"generated":{"line":1,"column":227}},{"source":"main.js","original":{"line":12,"column":15},"generated":{"line":1,"column":228}},{"source":"main.js","name":"parseInt","original":{"line":12,"column":16},"generated":{"line":1,"column":233}},{"source":"main.js","name":"e","original":{"line":12,"column":25},"generated":{"line":1,"column":242}},{"source":"main.js","name":"age","original":{"line":12,"column":27},"generated":{"line":1,"column":244}},{"source":"main.js","original":{"line":12,"column":34},"generated":{"line":1,"column":249}},{"source":"main.js","name":"toFixed","original":{"line":12,"column":39},"generated":{"line":1,"column":254}},{"source":"main.js","original":{"line":12,"column":47},"generated":{"line":1,"column":262}},{"source":"main.js","name":"fn","original":{"line":13,"column":15},"generated":{"line":1,"column":265}},{"source":"main.js","name":"fn","original":{"line":13,"column":15},"generated":{"line":1,"column":269}},{"source":"main.js","name":"getSex","original":{"line":13,"column":18},"generated":{"line":1,"column":271}},{"source":"main.js","name":"e","original":{"line":13,"column":25},"generated":{"line":1,"column":278}},{"source":"main.js","name":"sex","original":{"line":13,"column":27},"generated":{"line":1,"column":280}},{"source":"main.js","name":"fn","original":{"line":15,"column":19},"generated":{"line":1,"column":285}},{"source":"main.js","name":"fn","original":{"line":15,"column":19},"generated":{"line":1,"column":293}},{"source":"main.js","name":"getNormal","original":{"line":15,"column":22},"generated":{"line":1,"column":295}},{"source":"main.js","name":"e","original":{"line":15,"column":32},"generated":{"line":1,"column":305}},{"source":"main.js","name":"stomach","original":{"line":15,"column":34},"generated":{"line":1,"column":307}},{"source":"main.js","name":"fn","original":{"line":16,"column":24},"generated":{"line":1,"column":316}},{"source":"main.js","name":"fn","original":{"line":16,"column":24},"generated":{"line":1,"column":329}},{"source":"main.js","name":"getNormal","original":{"line":16,"column":27},"generated":{"line":1,"column":331}},{"source":"main.js","name":"e","original":{"line":16,"column":37},"generated":{"line":1,"column":341}},{"source":"main.js","name":"s_irritation","original":{"line":16,"column":39},"generated":{"line":1,"column":343}},{"source":"main.js","name":"fn","original":{"line":17,"column":18},"generated":{"line":1,"column":357}},{"source":"main.js","name":"fn","original":{"line":17,"column":18},"generated":{"line":1,"column":364}},{"source":"main.js","name":"getNormal","original":{"line":17,"column":21},"generated":{"line":1,"column":366}},{"source":"main.js","name":"e","original":{"line":17,"column":31},"generated":{"line":1,"column":376}},{"source":"main.js","name":"nausea","original":{"line":17,"column":33},"generated":{"line":1,"column":378}},{"source":"main.js","name":"fn","original":{"line":19,"column":22},"generated":{"line":1,"column":386}},{"source":"main.js","name":"fn","original":{"line":19,"column":22},"generated":{"line":1,"column":397}},{"source":"main.js","name":"getNormal","original":{"line":19,"column":25},"generated":{"line":1,"column":399}},{"source":"main.js","name":"e","original":{"line":19,"column":35},"generated":{"line":1,"column":409}},{"source":"main.js","name":"pain_upper","original":{"line":19,"column":37},"generated":{"line":1,"column":411}},{"source":"main.js","name":"fn","original":{"line":20,"column":23},"generated":{"line":1,"column":423}},{"source":"main.js","name":"fn","original":{"line":20,"column":23},"generated":{"line":1,"column":435}},{"source":"main.js","name":"getTemperature","original":{"line":20,"column":26},"generated":{"line":1,"column":437}},{"source":"main.js","name":"fn","original":{"line":20,"column":41},"generated":{"line":1,"column":452}},{"source":"main.js","name":"getNormal","original":{"line":20,"column":44},"generated":{"line":1,"column":454}},{"source":"main.js","name":"e","original":{"line":20,"column":54},"generated":{"line":1,"column":464}},{"source":"main.js","name":"temperature","original":{"line":20,"column":56},"generated":{"line":1,"column":466}},{"source":"main.js","name":"fn","original":{"line":21,"column":24},"generated":{"line":1,"column":480}},{"source":"main.js","name":"fn","original":{"line":21,"column":24},"generated":{"line":1,"column":493}},{"source":"main.js","name":"getNormal","original":{"line":21,"column":27},"generated":{"line":1,"column":495}},{"source":"main.js","name":"e","original":{"line":21,"column":37},"generated":{"line":1,"column":505}},{"source":"main.js","name":"gall_bladder","original":{"line":21,"column":39},"generated":{"line":1,"column":507}},{"source":"main.js","name":"fn","original":{"line":22,"column":19},"generated":{"line":1,"column":521}},{"source":"main.js","name":"fn","original":{"line":22,"column":19},"generated":{"line":1,"column":529}},{"source":"main.js","name":"getNormal","original":{"line":22,"column":22},"generated":{"line":1,"column":531}},{"source":"main.js","name":"e","original":{"line":22,"column":32},"generated":{"line":1,"column":541}},{"source":"main.js","name":"alcohol","original":{"line":22,"column":34},"generated":{"line":1,"column":543}},{"source":"main.js","name":"fn","original":{"line":23,"column":21},"generated":{"line":1,"column":552}},{"source":"main.js","name":"fn","original":{"line":23,"column":21},"generated":{"line":1,"column":562}},{"source":"main.js","name":"getNormal","original":{"line":23,"column":24},"generated":{"line":1,"column":564}},{"source":"main.js","name":"e","original":{"line":23,"column":34},"generated":{"line":1,"column":574}},{"source":"main.js","name":"vomitting","original":{"line":23,"column":36},"generated":{"line":1,"column":576}},{"source":"main.js","name":"fn","original":{"line":24,"column":21},"generated":{"line":1,"column":587}},{"source":"main.js","name":"fn","original":{"line":24,"column":21},"generated":{"line":1,"column":597}},{"source":"main.js","name":"getNormal","original":{"line":24,"column":24},"generated":{"line":1,"column":599}},{"source":"main.js","name":"e","original":{"line":24,"column":34},"generated":{"line":1,"column":609}},{"source":"main.js","name":"dry_mouth","original":{"line":24,"column":36},"generated":{"line":1,"column":611}},{"source":"main.js","name":"fn","original":{"line":25,"column":20},"generated":{"line":1,"column":622}},{"source":"main.js","name":"fn","original":{"line":25,"column":20},"generated":{"line":1,"column":631}},{"source":"main.js","name":"getNormal","original":{"line":25,"column":23},"generated":{"line":1,"column":633}},{"source":"main.js","name":"e","original":{"line":25,"column":33},"generated":{"line":1,"column":643}},{"source":"main.js","name":"weakness","original":{"line":25,"column":35},"generated":{"line":1,"column":645}},{"source":"main.js","name":"fn","original":{"line":27,"column":22},"generated":{"line":1,"column":655}},{"source":"main.js","name":"fn","original":{"line":27,"column":22},"generated":{"line":1,"column":666}},{"source":"main.js","name":"getHemoglobin","original":{"line":27,"column":25},"generated":{"line":1,"column":668}},{"source":"main.js","name":"e","original":{"line":27,"column":39},"generated":{"line":1,"column":682}},{"source":"main.js","name":"sex","original":{"line":27,"column":41},"generated":{"line":1,"column":684}},{"source":"main.js","name":"e","original":{"line":27,"column":46},"generated":{"line":1,"column":688}},{"source":"main.js","name":"age","original":{"line":27,"column":48},"generated":{"line":1,"column":690}},{"source":"main.js","name":"fn","original":{"line":27,"column":53},"generated":{"line":1,"column":694}},{"source":"main.js","name":"getNormal","original":{"line":27,"column":56},"generated":{"line":1,"column":696}},{"source":"main.js","name":"e","original":{"line":27,"column":66},"generated":{"line":1,"column":706}},{"source":"main.js","name":"hemoglobin","original":{"line":27,"column":68},"generated":{"line":1,"column":708}},{"source":"main.js","name":"fn","original":{"line":28,"column":24},"generated":{"line":1,"column":721}},{"source":"main.js","name":"fn","original":{"line":28,"column":24},"generated":{"line":1,"column":736}},{"source":"main.js","name":"getErythrocyte","original":{"line":28,"column":27},"generated":{"line":1,"column":738}},{"source":"main.js","name":"e","original":{"line":28,"column":42},"generated":{"line":1,"column":753}},{"source":"main.js","name":"age","original":{"line":28,"column":44},"generated":{"line":1,"column":755}},{"source":"main.js","name":"fn","original":{"line":28,"column":49},"generated":{"line":1,"column":759}},{"source":"main.js","name":"getNormal","original":{"line":28,"column":52},"generated":{"line":1,"column":761}},{"source":"main.js","name":"e","original":{"line":28,"column":62},"generated":{"line":1,"column":771}},{"source":"main.js","name":"erythrocyte","original":{"line":28,"column":64},"generated":{"line":1,"column":773}},{"source":"main.js","name":"fn","original":{"line":29,"column":21},"generated":{"line":1,"column":787}},{"source":"main.js","name":"fn","original":{"line":29,"column":21},"generated":{"line":1,"column":797}},{"source":"main.js","name":"getleukocyte","original":{"line":29,"column":24},"generated":{"line":1,"column":799}},{"source":"main.js","name":"e","original":{"line":29,"column":37},"generated":{"line":1,"column":812}},{"source":"main.js","name":"age","original":{"line":29,"column":39},"generated":{"line":1,"column":814}},{"source":"main.js","name":"fn","original":{"line":29,"column":44},"generated":{"line":1,"column":818}},{"source":"main.js","name":"getNormal","original":{"line":29,"column":47},"generated":{"line":1,"column":820}},{"source":"main.js","name":"e","original":{"line":29,"column":57},"generated":{"line":1,"column":830}},{"source":"main.js","name":"leukocyte","original":{"line":29,"column":59},"generated":{"line":1,"column":832}},{"source":"main.js","name":"fn","original":{"line":31,"column":24},"generated":{"line":1,"column":844}},{"source":"main.js","name":"fn","original":{"line":31,"column":24},"generated":{"line":1,"column":857}},{"source":"main.js","name":"getBio","original":{"line":31,"column":27},"generated":{"line":1,"column":859}},{"source":"main.js","name":"biochemistry_types","original":{"line":31,"column":34},"generated":{"line":1,"column":866}},{"source":"main.js","name":"e","original":{"line":31,"column":54},"generated":{"line":1,"column":868}},{"source":"main.js","name":"biochemistry_raw","original":{"line":31,"column":56},"generated":{"line":1,"column":870}},{"source":"main.js","name":"arr","original":{"line":33,"column":8},"generated":{"line":1,"column":889}},{"source":"main.js","original":{"line":33,"column":14},"generated":{"line":1,"column":891}},{"source":"main.js","name":"Array","original":{"line":33,"column":18},"generated":{"line":1,"column":895}},{"source":"main.js","name":"_","original":{"line":37,"column":11},"generated":{"line":1,"column":901}},{"source":"main.js","name":"Object","original":{"line":34,"column":4},"generated":{"line":1,"column":908}},{"source":"main.js","name":"keys","original":{"line":34,"column":11},"generated":{"line":1,"column":915}},{"source":"main.js","name":"newObj","original":{"line":34,"column":16},"generated":{"line":1,"column":920}},{"source":"main.js","name":"forEach","original":{"line":34,"column":24},"generated":{"line":1,"column":923}},{"source":"main.js","original":{"line":34,"column":32},"generated":{"line":1,"column":931}},{"source":"main.js","name":"el","original":{"line":34,"column":32},"generated":{"line":1,"column":940}},{"source":"main.js","name":"arr","original":{"line":35,"column":8},"generated":{"line":1,"column":943}},{"source":"main.js","name":"push","original":{"line":35,"column":12},"generated":{"line":1,"column":945}},{"source":"main.js","name":"newObj","original":{"line":35,"column":17},"generated":{"line":1,"column":950}},{"source":"main.js","name":"el","original":{"line":35,"column":24},"generated":{"line":1,"column":952}},{"source":"main.js","name":"_","original":{"line":37,"column":11},"generated":{"line":1,"column":958}},{"source":"main.js","name":"flatten","original":{"line":37,"column":13},"generated":{"line":1,"column":960}},{"source":"main.js","name":"arr","original":{"line":37,"column":21},"generated":{"line":1,"column":968}},{"source":"main.js","name":"renderOutput","original":{"line":40,"column":6},"generated":{"line":1,"column":972}},{"source":"main.js","original":{"line":40,"column":21},"generated":{"line":1,"column":974}},{"source":"main.js","name":"e","original":{"line":40,"column":21},"generated":{"line":1,"column":983}},{"source":"main.js","name":"e","original":{"line":41,"column":14},"generated":{"line":1,"column":986}},{"source":"main.js","name":"e","original":{"line":41,"column":14},"generated":{"line":1,"column":993}},{"source":"main.js","name":"e","original":{"line":41,"column":14},"generated":{"line":1,"column":995}},{"source":"main.js","name":"e","original":{"line":41,"column":14},"generated":{"line":1,"column":998}},{"source":"main.js","name":"hid","original":{"line":41,"column":16},"generated":{"line":1,"column":1000}},{"source":"main.js","original":{"line":41,"column":22},"generated":{"line":1,"column":1004}},{"source":"main.js","name":"renderAll","original":{"line":44,"column":6},"generated":{"line":1,"column":1008}},{"source":"main.js","original":{"line":44,"column":18},"generated":{"line":1,"column":1010}},{"source":"main.js","name":"e","original":{"line":44,"column":19},"generated":{"line":1,"column":1019}},{"source":"main.js","name":"biochemistry_types","original":{"line":44,"column":22},"generated":{"line":1,"column":1021}},{"source":"main.js","original":{"line":45,"column":11},"generated":{"line":1,"column":1024}},{"source":"main.js","original":{"line":45,"column":11},"generated":{"line":1,"column":1030}},{"source":"main.js","name":"renderInput","original":{"line":46,"column":17},"generated":{"line":1,"column":1031}},{"source":"main.js","name":"renderInput","original":{"line":46,"column":17},"generated":{"line":1,"column":1037}},{"source":"main.js","name":"e","original":{"line":46,"column":29},"generated":{"line":1,"column":1039}},{"source":"main.js","name":"biochemistry_types","original":{"line":46,"column":31},"generated":{"line":1,"column":1041}},{"source":"main.js","name":"renderOutput","original":{"line":47,"column":18},"generated":{"line":1,"column":1044}},{"source":"main.js","name":"renderOutput","original":{"line":47,"column":18},"generated":{"line":1,"column":1051}},{"source":"main.js","name":"e","original":{"line":47,"column":31},"generated":{"line":1,"column":1053}},{"source":"main.js","name":"optionsTest","original":{"line":51,"column":6},"generated":{"line":1,"column":1058}},{"source":"main.js","original":{"line":51,"column":20},"generated":{"line":1,"column":1060}},{"source":"main.js","name":"errorThresh","original":{"line":52,"column":4},"generated":{"line":1,"column":1061}},{"source":"main.js","original":{"line":52,"column":17},"generated":{"line":1,"column":1073}},{"source":"main.js","name":"iterations","original":{"line":53,"column":4},"generated":{"line":1,"column":1078}},{"source":"main.js","original":{"line":53,"column":16},"generated":{"line":1,"column":1089}},{"source":"main.js","name":"log","original":{"line":54,"column":4},"generated":{"line":1,"column":1093}},{"source":"main.js","original":{"line":54,"column":9},"generated":{"line":1,"column":1098}},{"source":"main.js","name":"logPeriod","original":{"line":55,"column":4},"generated":{"line":1,"column":1100}},{"source":"main.js","original":{"line":55,"column":15},"generated":{"line":1,"column":1110}},{"source":"main.js","name":"learningRate","original":{"line":56,"column":4},"generated":{"line":1,"column":1113}},{"source":"main.js","original":{"line":56,"column":18},"generated":{"line":1,"column":1126}},{"source":"main.js","name":"trainNetwork","original":{"line":65,"column":6},"generated":{"line":1,"column":1130}},{"source":"main.js","original":{"line":65,"column":21},"generated":{"line":1,"column":1132}},{"source":"main.js","name":"data","original":{"line":65,"column":22},"generated":{"line":1,"column":1141}},{"source":"main.js","name":"options","original":{"line":65,"column":28},"generated":{"line":1,"column":1144}},{"source":"main.js","name":"options","original":{"line":65,"column":28},"generated":{"line":1,"column":1148}},{"source":"main.js","name":"optionsTest","original":{"line":65,"column":38},"generated":{"line":1,"column":1150}},{"source":"main.js","name":"optionsTest","original":{"line":65,"column":38},"generated":{"line":1,"column":1160}},{"source":"main.js","name":"optionsTest","original":{"line":65,"column":38},"generated":{"line":1,"column":1167}},{"source":"main.js","name":"optionsTest","original":{"line":65,"column":38},"generated":{"line":1,"column":1175}},{"source":"main.js","name":"optionsTest","original":{"line":65,"column":38},"generated":{"line":1,"column":1179}},{"source":"main.js","name":"optionsTest","original":{"line":65,"column":38},"generated":{"line":1,"column":1189}},{"source":"main.js","name":"optionsTest","original":{"line":65,"column":38},"generated":{"line":1,"column":1192}},{"source":"main.js","name":"optionsTest","original":{"line":65,"column":38},"generated":{"line":1,"column":1202}},{"source":"main.js","name":"optionsTest","original":{"line":65,"column":38},"generated":{"line":1,"column":1205}},{"source":"main.js","name":"biochemistry_types","original":{"line":66,"column":10},"generated":{"line":1,"column":1207}},{"source":"main.js","name":"data","original":{"line":66,"column":31},"generated":{"line":1,"column":1209}},{"source":"main.js","original":{"line":66,"column":35},"generated":{"line":1,"column":1211}},{"source":"main.js","name":"trainData","original":{"line":68,"column":10},"generated":{"line":1,"column":1230}},{"source":"main.js","name":"data","original":{"line":68,"column":22},"generated":{"line":1,"column":1232}},{"source":"main.js","original":{"line":68,"column":26},"generated":{"line":1,"column":1234}},{"source":"main.js","name":"map","original":{"line":68,"column":35},"generated":{"line":1,"column":1239}},{"source":"main.js","original":{"line":68,"column":39},"generated":{"line":1,"column":1243}},{"source":"main.js","name":"e","original":{"line":68,"column":39},"generated":{"line":1,"column":1252}},{"source":"main.js","name":"renderAll","original":{"line":68,"column":44},"generated":{"line":1,"column":1255}},{"source":"main.js","name":"renderAll","original":{"line":68,"column":44},"generated":{"line":1,"column":1262}},{"source":"main.js","name":"e","original":{"line":68,"column":54},"generated":{"line":1,"column":1264}},{"source":"main.js","name":"biochemistry_types","original":{"line":68,"column":57},"generated":{"line":1,"column":1266}},{"source":"main.js","name":"network","original":{"line":69,"column":10},"generated":{"line":1,"column":1271}},{"source":"main.js","original":{"line":69,"column":20},"generated":{"line":1,"column":1273}},{"source":"main.js","name":"brain","original":{"line":69,"column":24},"generated":{"line":1,"column":1277}},{"source":"main.js","name":"NeuralNetwork","original":{"line":69,"column":30},"generated":{"line":1,"column":1279}},{"source":"main.js","name":"train","original":{"line":70,"column":10},"generated":{"line":1,"column":1293}},{"source":"main.js","name":"network","original":{"line":70,"column":18},"generated":{"line":1,"column":1295}},{"source":"main.js","name":"train","original":{"line":70,"column":26},"generated":{"line":1,"column":1297}},{"source":"main.js","name":"trainData","original":{"line":70,"column":32},"generated":{"line":1,"column":1303}},{"source":"main.js","name":"options","original":{"line":70,"column":42},"generated":{"line":1,"column":1305}},{"source":"main.js","name":"JSON","original":{"line":71,"column":11},"generated":{"line":1,"column":1308}},{"source":"main.js","name":"JSON","original":{"line":71,"column":11},"generated":{"line":1,"column":1315}},{"source":"main.js","name":"stringify","original":{"line":71,"column":16},"generated":{"line":1,"column":1320}},{"source":"main.js","name":"network","original":{"line":71,"column":26},"generated":{"line":1,"column":1330}},{"source":"main.js","name":"toJSON","original":{"line":71,"column":34},"generated":{"line":1,"column":1332}},{"source":"main.js","name":"train","original":{"line":71,"column":41},"generated":{"line":1,"column":1339}},{"source":"main.js","name":"runNetwork","original":{"line":79,"column":6},"generated":{"line":1,"column":1344}},{"source":"main.js","original":{"line":79,"column":19},"generated":{"line":1,"column":1346}},{"source":"main.js","name":"data","original":{"line":79,"column":20},"generated":{"line":1,"column":1355}},{"source":"main.js","name":"networkState","original":{"line":79,"column":25},"generated":{"line":1,"column":1357}},{"source":"main.js","name":"biochemistry_types","original":{"line":79,"column":39},"generated":{"line":1,"column":1359}},{"source":"main.js","name":"network","original":{"line":80,"column":10},"generated":{"line":1,"column":1362}},{"source":"main.js","name":"network","original":{"line":80,"column":10},"generated":{"line":1,"column":1366}},{"source":"main.js","original":{"line":80,"column":20},"generated":{"line":1,"column":1368}},{"source":"main.js","name":"brain","original":{"line":80,"column":24},"generated":{"line":1,"column":1372}},{"source":"main.js","name":"NeuralNetwork","original":{"line":80,"column":30},"generated":{"line":1,"column":1374}},{"source":"main.js","name":"network","original":{"line":82,"column":11},"generated":{"line":1,"column":1388}},{"source":"main.js","name":"network","original":{"line":81,"column":4},"generated":{"line":1,"column":1395}},{"source":"main.js","name":"fromJSON","original":{"line":81,"column":12},"generated":{"line":1,"column":1397}},{"source":"main.js","name":"JSON","original":{"line":81,"column":21},"generated":{"line":1,"column":1406}},{"source":"main.js","name":"parse","original":{"line":81,"column":26},"generated":{"line":1,"column":1411}},{"source":"main.js","name":"networkState","original":{"line":81,"column":32},"generated":{"line":1,"column":1417}},{"source":"main.js","name":"network","original":{"line":82,"column":11},"generated":{"line":1,"column":1421}},{"source":"main.js","name":"run","original":{"line":82,"column":19},"generated":{"line":1,"column":1423}},{"source":"main.js","name":"renderInput","original":{"line":82,"column":23},"generated":{"line":1,"column":1427}},{"source":"main.js","name":"data","original":{"line":82,"column":35},"generated":{"line":1,"column":1429}},{"source":"main.js","name":"biochemistry_types","original":{"line":82,"column":41},"generated":{"line":1,"column":1431}}],"sources":{"main.js":"const brain = require('brain.js');\r\nconst _ = require('lodash');\r\n// const testData = require('./data.json');\r\n// const fs = require('fs');\r\nconst fn = require('./analysis');\r\n\r\nconst renderInput = (e, biochemistry_types) => {\r\n    console.log(biochemistry_types)\r\n    const newObj = {\r\n        // \"treatment\": e.treatment,\r\n        // \"diagnosis\": e.diagnosis,\r\n        \"age\": (parseInt(e.age) / 120).toFixed(2),\r\n        \"sex\": fn.getSex(e.sex),\r\n        // \"palpation\": e.palpation,\r\n        \"stomach\": fn.getNormal(e.stomach),\r\n        \"s_irritation\": fn.getNormal(e.s_irritation),\r\n        \"nausea\": fn.getNormal(e.nausea),\r\n        // \"paint_right\": e.paint_right,\r\n        \"pain_upper\": fn.getNormal(e.pain_upper),\r\n        \"temperature\": fn.getTemperature(fn.getNormal(e.temperature)),\r\n        \"gall_bladder\": fn.getNormal(e.gall_bladder),\r\n        \"alcohol\": fn.getNormal(e.alcohol),\r\n        \"vomitting\": fn.getNormal(e.vomitting),\r\n        \"dry_mouth\": fn.getNormal(e.dry_mouth),\r\n        \"weakness\": fn.getNormal(e.weakness),\r\n        // \"diseases\": e.diseases,\r\n        \"hemoglobin\": fn.getHemoglobin(e.sex, e.age, fn.getNormal(e.hemoglobin)),\r\n        \"erythrocyte:\": fn.getErythrocyte(e.age, fn.getNormal(e.erythrocyte)),\r\n        \"leukocyte\": fn.getleukocyte(e.age, fn.getNormal(e.leukocyte)),\r\n        // \"tongue\": e.tongue,\r\n        \"biochemistry\": fn.getBio(biochemistry_types, e.biochemistry_raw)\r\n    }\r\n    let arr = new Array();\r\n    Object.keys(newObj).forEach(el => {\r\n        arr.push(newObj[el]);\r\n    });\r\n    return _.flatten(arr);\r\n};\r\n\r\nconst renderOutput = e => {\r\n    return { [e.hid]: 1 }\r\n};\r\n\r\nconst renderAll = (e, biochemistry_types)=> {\r\n    return {\r\n        \"input\": renderInput(e,biochemistry_types),\r\n        \"output\": renderOutput(e)\r\n    }\r\n}\r\n\r\nconst optionsTest = {\r\n    errorThresh: 0.005,\r\n    iterations: 50000,\r\n    log: true,\r\n    logPeriod: 50,\r\n    learningRate: 0.2,\r\n};\r\n\r\n/**\r\n * \r\n * @param {JSON array} data json объект со всеми данными\r\n * @param {*} options опции для нейросети\r\n * @returns JSON объект, который необходимо сохранить в отдельный файл\r\n */\r\nconst trainNetwork = (data, options = optionsTest) => {\r\n    const biochemistry_types = data['biochemistry_types'];\r\n    // console.log(data['list']);\r\n    const trainData = data['list'].map(e => renderAll(e, biochemistry_types));\r\n    const network = new brain.NeuralNetwork();\r\n    const train = network.train(trainData,options);\r\n    return JSON.stringify(network.toJSON(train));\r\n}\r\n\r\n/**\r\n * \r\n * @param {JSON object} data json объект с единичным прецендентом\r\n * @param {JSON object} networkState данные с обучением нейросети\r\n */\r\nconst runNetwork = (data,networkState, biochemistry_types) => {\r\n    const network = new brain.NeuralNetwork();\r\n    network.fromJSON(JSON.parse(networkState));\r\n    return network.run(renderInput(data, biochemistry_types));\r\n}\r\n\r\n// console.log(\r\n//     runNetwork(testData['list'][0],trainNetwork(testData), testData['biochemistry_types'])\r\n// )"},"lineCount":null}},"hash":"abf6f56162489e627860a56a485c1225","cacheData":{"env":{}}}